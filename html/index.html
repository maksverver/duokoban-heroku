<html>
<head>
<title>Duokoban</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body onload="client.initialize(document.getElementById('LevelSelect').value)">
<h1>Duokoban</h1>
<p><a href="javascript:client.setEditMode(!client.getEditMode())">Edit/play</a> -
   <a href="javascript:client.setLevelCode(prompt('Level code:', client.getLevelCode()))">Import/export</a> -
   Levels:
   <select id="LevelSelect" onChange="client.setLevelCode(value);blur()">
     <option value="KKEAASSAJJJIpYSIBSIBSIZoSQSSCINdD" selected>O noes! by Maks</option>
     <option value="KKEAAkpBQEIJRghqSCJpKGISSgIA6OB">Cross by Brend</option>
     <option value="DFENzMUVRS6C">Introduction by Maks</option>
     <option value=""></option>
     <option value="KKEAgkkkESSSSIJJJhkkkESSSSIJJJhkkkESSSS">Blank Template</option>
   </select>
</p>

<div id="GameCanvasHolder"
    ><canvas width="400" height="440" id="GameCanvas"
        ><b>Error: this page uses an HTML5 Canvas which your browser doesn't support!</b></canvas
    ><canvas width="136" height="136" id="ToolCanvas" style="display:none"></canvas
></div>

<div id="InstructionsPlayMode">
  <h2>Objective</h2>
  <p>Put the green boxes inside the green squares. Plain guy pushes, striped guy pulls.</p>
</div>
<div id="InstructionsEditMode" style="display:none">
  <h2>Edit Mode</h2>
  <p>Use the toolbox on the right to modify the game grid on the left.
     If you solve your level in edit mode, you may submit it to the level database.</p>
</div>
<div id="WinningPlayMode" style="display:none">
   <h2>You won!</h2> <a href="javascript:client.invertGame()">Play in reverse</a>. </div>
<div id="WinningEditMode" style="display:none">
  <h2>Level solved!</h2>
  <p>Congratulations, you just solved the level you created!
  If you think it is any good, please submit it to the database:</p>
  <form onsubmit="return client.onSubmitLevel()">
    <table style="margin:auto">
      <tr><td>Level title:</td><td><input type="text" id="Title"></td></tr>
      <tr><td>Author name:</td><td><input type="text" id="Author"></td></tr>
      <tr><td></td><td><input type="submit" value="Submit level"></td></tr>
    </table>
  </form>
</div>
<h2>Controls</h2>
<p>Cursor keys for red player. W/A/S/D for blue player. P to swap controls. R to restart.</p>

<script type="text/javascript" src="require.js"></script>
<script type="text/javascript">
client = require("js/client/client.js")
</script>
</body>
</html>
